(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{136:function(e,t,a){"use strict";a.r(t);a(165),a(31);var o=a(7),n=a.n(o),r=a(50),c=a.n(r),i=a(0),s=a.n(i),l=a(166),h=a(169),u=a.n(h),m=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={quote:"Interesting things never happen to me. I happen to them.",author:"Bernard Shaw",quoteImage:"",activeFont:"Abel",borderColor:"#e66465",opacity:.4,textColor:"#000",ownQuote:"",ownQuoteChecked:!1,selfAuthored:"",ownImage:!1,imageURLIncorrect:!1},a.colorChange=a.colorChange.bind(c()(c()(a))),a.opacityChange=a.opacityChange.bind(c()(c()(a))),a.textColorChange=a.textColorChange.bind(c()(c()(a))),a.getBackground=a.getBackground.bind(c()(c()(a))),a.getQuote=a.getQuote.bind(c()(c()(a))),a.checkChange=a.checkChange.bind(c()(c()(a))),a.ownQuote=a.ownQuote.bind(c()(c()(a))),a.ownAuthor=a.ownAuthor.bind(c()(c()(a))),a.saveAsImg=a.saveAsImg.bind(c()(c()(a))),a.imageChange=a.imageChange.bind(c()(c()(a))),a.imageInput=s.a.createRef(),a.handleAbsentImage=a.handleAbsentImage.bind(c()(c()(a))),a}n()(t,e);var a=t.prototype;return a.getBackground=function(e){var t=this,a="";a=void 0===e?"https://source.unsplash.com/collection/143203/":e,fetch(a).then(function(e){console.log(e),t.setState({quoteImage:e.url,imageURLIncorrect:!1})}).catch(function(e){t.setState({imageURLIncorrect:!0})})},a.getQuote=function(){var e=this;fetch("https://quotesondesign.com/wp-json/posts?filter[orderby]=rand&filter[posts_per_page]=1&callback=",{cache:"no-store"}).then(function(e){if(!e.ok)throw new Error("Bad response");return e.json()}).then(function(t){console.log(t);var a=t[0].content.replace("<p>","").replace("</p>","");e.setState({quote:a,author:t[0].title})}).catch(function(e){return console.log("failed to fetch",e)})},a.componentDidMount=function(){this.getQuote(),this.getBackground()},a.colorChange=function(e){this.setState({borderColor:e.target.value}),console.log(e.target.value)},a.opacityChange=function(e){this.setState({opacity:e.target.value})},a.textColorChange=function(e){this.setState({textColor:e.target.value})},a.ownQuote=function(e){this.setState({ownQuote:e.target.value})},a.ownAuthor=function(e){this.setState({selfAuthored:e.target.value})},a.checkChange=function(e){console.log(e.target.name),e.target.checked?"check-own"===e.target.name?this.setState({ownQuoteChecked:!0}):this.setState({ownImage:!0}):"check-own"===e.target.name?this.setState({ownQuoteChecked:!1}):this.setState({ownImage:!1})},a.imageChange=function(e){e.preventDefault(),this.getBackground(this.imageInput.current.value)},a.saveAsImg=function(){u()(document.getElementById("quotes-container"),{allowTaint:!0}).then(function(e){document.body.appendChild(e)})},a.handleAbsentImage=function(){this.setState({imageURLIncorrect:!0}),this.getBackground()},a.render=function(){var e=this,t={borderColor:this.state.borderColor,color:this.state.textColor};return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"quotes-container apply-font",id:"quotes-container",style:t},s.a.createElement("img",{src:this.state.quoteImage,className:"quotes-image",style:{opacity:this.state.opacity},onError:this.handleAbsentImage}),s.a.createElement("div",{className:"quotes-full"},this.state.ownQuoteChecked?s.a.createElement("div",{className:"quotes-text"},this.state.ownQuote):s.a.createElement("div",{className:"quotes-text",dangerouslySetInnerHTML:{__html:this.state.quote}}),s.a.createElement("div",{className:"quotes-author"},this.state.ownQuoteChecked?this.state.selfAuthored:this.state.author))),s.a.createElement("div",{className:"controls"},s.a.createElement("label",{htmlFor:"borderColor"},"Border Color"),s.a.createElement("input",{type:"color",id:"borderColor",name:"borderColor",value:this.state.borderColor,onChange:this.colorChange}),s.a.createElement("label",{htmlFor:"opacity"},"Opacity"),s.a.createElement("input",{type:"range",id:"opacity",name:"opacity",min:"0.1",max:"1",step:"0.1",value:this.state.opacity,onChange:this.opacityChange}),s.a.createElement("label",{htmlFor:"textColor"},"Text Color"),s.a.createElement("input",{type:"color",id:"textColor",name:"textColor",value:this.state.textColor,onChange:this.textColorChange}),s.a.createElement("button",{onClick:this.getQuote,className:"button-style get-quote"},"Get Another Quote"),s.a.createElement("button",{onClick:this.getBackground,className:"button-style get-background"},"Get Another Background Image"),s.a.createElement(l.a,{apiKey:"AIzaSyDPVlevuL5i46RR4rfrk26B-hPVDuSOam0",activeFont:this.state.activeFont,className:"font-picker",onChange:function(t){return e.setState({activeFont:t.family})}}),s.a.createElement("label",{htmlFor:"check-own"},"Customize the quote?"),s.a.createElement("input",{type:"checkbox",name:"check-own",id:"check-own",defaultChecked:!1,onChange:this.checkChange}),this.state.ownQuoteChecked&&s.a.createElement("div",{className:"own-quote"},s.a.createElement("label",{htmlFor:"ownQuote"},"Enter your own Quote"),s.a.createElement("textarea",{value:this.state.ownQuote,onChange:this.ownQuote}),s.a.createElement("label",{htmlFor:"ownQuote"},"Enter the Author's Name:"),s.a.createElement("input",{type:"text",id:"ownAuthor",name:"ownAuthor",onChange:this.ownAuthor})),s.a.createElement("label",{htmlFor:"check-image"},"Customize the Image?"),s.a.createElement("input",{type:"checkbox",name:"check-image",id:"check-image",defaultChecked:!1,onChange:this.checkChange}),this.state.ownImage&&s.a.createElement("div",{className:"own-quote"},s.a.createElement("label",{htmlFor:"image-change"},"Enter the image URL"),s.a.createElement("input",{type:"text",id:"image-change",name:"image-change",ref:this.imageInput}),s.a.createElement("button",{onClick:this.imageChange,className:"button-style image-change"},"Add Image to the quote"),this.state.imageURLIncorrect&&s.a.createElement("div",{className:"image-fetch-error"},"The image URL that you entered was incorrect. Please try again.")),s.a.createElement("button",{onClick:this.saveAsImg,className:"button-style save-as-img"},"Save as an Image")))},t}(i.Component);t.default=m}}]);
//# sourceMappingURL=component---src-pages-index-js-3d67f0e5761f009f2a25.js.map